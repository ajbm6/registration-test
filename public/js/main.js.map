{"version":3,"sources":["app/main.js"],"names":["debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","inputValidation","$","each","index","element","on","event","value","val","name","attr","url","ajax","done","response","insertValidationMessage","message","sibling","aside","next","length","insertAfter","find","text","document","ready"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8BC,SAA9B,EAAyC;AACrC,QAAIC,OAAJ;;AAEA,WAAO,YAAY;AACf,YAAIC,UAAU,IAAd;AAAA,YACIC,OAAOC,SADX;AAAA,YAEIC,QAAQ,SAARA,KAAQ,GAAY;AAChBJ,sBAAU,IAAV;;AAEA,gBAAI,CAACD,SAAL,EAAgB;AACZF,qBAAKQ,KAAL,CAAWJ,OAAX,EAAoBC,IAApB;AACH;AACJ,SARL;AAAA,YASII,UAAUP,aAAa,CAACC,OAT5B;;AAWAO,qBAAaP,OAAb;;AAEAA,kBAAUQ,WAAWJ,KAAX,EAAkBN,IAAlB,CAAV;;AAEA,YAAIQ,OAAJ,EAAa;AACTT,iBAAKQ,KAAL,CAAWJ,OAAX,EAAoBC,IAApB;AACH;AACJ,KAnBD;AAoBH;;AAED,SAASO,eAAT,GAA2B;AACvBC,MAAE,OAAF,EAAWC,IAAX,CAAgB,UAAUC,KAAV,EAAiBC,OAAjB,EAA0B;AACtCA,kBAAUH,EAAEG,OAAF,CAAV;;AAEAA,gBAAQC,EAAR,CAAW,OAAX,EAAoBlB,SAAS,UAAUmB,KAAV,EAAiB;AAC1C,gBAAIC,QAAQH,QAAQI,GAAR,EAAZ;AAAA,gBACIC,OAAOL,QAAQM,IAAR,CAAa,MAAb,CADX;;AAGA,gBAAIC,MAAM,eAAeF,IAAf,GAAsB,SAAtB,GAAkCF,KAA5C;;AAEA;AACA;AACA;;AAEA;AACA;;AAEAN,cAAEW,IAAF,CAAOD,GAAP,EAAYE,IAAZ,CAAiB,UAAUC,QAAV,EAAoB;AACjCC,wCAAwBX,OAAxB,EAAiCU,SAASE,OAA1C;AACH,aAFD;;AAKA;AACH,SAnBmB,EAmBjB,GAnBiB,CAApB;AAoBH,KAvBD;AAwBH;;AAED,SAASD,uBAAT,CAAiCE,OAAjC,EAA0CD,OAA1C,EAAmD;AAC/C,QAAIE,QAAQD,QAAQE,IAAR,CAAa,OAAb,CAAZ;;AAEA,QAAI,MAAMD,MAAME,MAAhB,EAAwB;AACpBnB,UAAE,eAAee,OAAf,GAAyB,cAA3B,EAA2CK,WAA3C,CAAuDJ,OAAvD;AACH,KAFD,MAEO;AACHC,cAAMI,IAAN,CAAW,GAAX,EAAgBC,IAAhB,CAAqBP,OAArB;AACH;AACJ;;AAEDf,EAAEuB,QAAF,EAAYC,KAAZ,CAAkBzB,eAAlB","file":"public/js/main.js","sourcesContent":["function debounce(func, wait, immediate) {\n    var timeout;\n\n    return function () {\n        var context = this,\n            args = arguments,\n            later = function () {\n                timeout = null;\n\n                if (!immediate) {\n                    func.apply(context, args);\n                }\n            },\n            callNow = immediate && !timeout;\n\n        clearTimeout(timeout);\n\n        timeout = setTimeout(later, wait);\n\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n};\n\nfunction inputValidation() {\n    $('input').each(function (index, element) {\n        element = $(element);\n\n        element.on('keyup', debounce(function (event) {\n            var value = element.val(),\n                name = element.attr('name');\n\n            var url = '/validate/' + name + '?value=' + value;\n\n            // if ('password[password]' === name || 'password[confirm]') {\n            //     var password = $('label[for=\"password\"] input').val(),\n            //         confirm = $('label[for=\"password-confirm\"] input').val();\n\n            //     url = '/validate/password?password=' + password + '&confirm=' + confirm;\n            // }\n\n            $.ajax(url).done(function (response) {\n                insertValidationMessage(element, response.message);\n            })\n\n\n            //\n        }, 250));\n    });\n};\n\nfunction insertValidationMessage(sibling, message) {\n    var aside = sibling.next('aside');\n\n    if (0 === aside.length) {\n        $('<aside><p>' + message + '</p></aside>').insertAfter(sibling);\n    } else {\n        aside.find('p').text(message);\n    }\n};\n\n$(document).ready(inputValidation);\n"]}